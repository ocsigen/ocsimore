<html><head><title>Module Wiki_self_services </title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/></head><body class="Wiki_self_services dev"><h1>Module <span><a href=".././api/Wiki_self_services">Wiki_self_services</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Wiki_self_services</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a href=".././api/Wiki_self_services">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p>This file define some tables that contain the services that are
dynamically associated to a given wiki:
</p><ul><li> the service that answers for a page of the wiki (two services:
attached and non-attached).
</li><li> the service that answers for the css of the wiki
</li></ul><p>The other services for wikis take the wiki as argument, and
are defined in <span class="odocwiki_inlinecode">Wiki_services</span>.
</p><p>The tables below are updated in the function <span class="odocwiki_inlinecode">register_wiki</span> of
<span class="odocwiki_inlinecode">Wiki_services</span>.
</p><hr/><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span><a href=".././api/Wiki_self_services.Servpages">Servpages</a></span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_uid">Hashtbl.Make</span></span><span class="ocsforge_color_delimiter">(</span><span class="ocsforge_color_keyword">sig</span><span class="odocwiki_sig_block"><span class="ocsforge_color odocwiki_code" id="TYPEt">  <span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">t</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type"><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span></span></span><span class="ocsforge_color odocwiki_code" id="VALequal">  <span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">equal</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">'a <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_delimiter">-&gt;</span> bool</span></span><span class="ocsforge_color odocwiki_code" id="VALhash">  <span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">hash</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">'a <span class="ocsforge_color_delimiter">-&gt;</span> int</span></span></span><span class="ocsforge_color_keyword">end</span><span class="ocsforge_color_delimiter">)</span></pre><div class="odocwiki_info"><p>This file define some tables that contain the services that are
dynamically associated to a given wiki: the service that answers for a page of the wiki (two services:
attached and non-attached)., the service that answers for the css of the wiki
The other services for wikis take the wiki as argument, and
are defined in <span class="odocwiki_inlinecode">Wiki_services</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALnaservpages"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">naservpages</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>string, unit, [ `Get ], <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_attached_kind</span>,<br/>   [ `NonattachedCoservice ], [ `WithoutSuffix ],<br/>   [ `One of string ] <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">param_name</span>, unit,<br/>   [ `Registrable ], <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">appl_service</span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service</span> <span class="ocsforge_color_uid">Servpages</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALservpages"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">servpages</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>string list, unit, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">get_service_kind</span>,<br/>   <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">attached</span>, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service_kind</span>, [ `WithSuffix ],<br/>   [ `One of string list ] <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">param_name</span>, unit,<br/>   [ `Registrable ], <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">appl_service</span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service</span> <span class="ocsforge_color_uid">Servpages</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALservwikicss"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">servwikicss</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span><span class="ocsforge_color_delimiter">(</span><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> * int32 option<span class="ocsforge_color_delimiter">)</span> list, unit,<br/>   <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">get_service_kind</span>, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">attached_kind</span>,<br/>   [ `AttachedCoservice | `Service ], [ `WithoutSuffix ],<br/>   <span class="ocsforge_color_delimiter">(</span>[ `One of <span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> ] <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">param_name</span> *<br/>    [ `One of int32 ] <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">param_name</span><span class="ocsforge_color_delimiter">)</span><br/>   <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">listnames</span>, unit, [ `Registrable ],<br/>   <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">CssText</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">return</span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service</span> <span class="ocsforge_color_uid">Servpages</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALadd_naservpage"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">add_naservpage</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Servpages</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">key</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string, unit, [ `Get ], <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_attached_kind</span>,<br/>   [ `NonattachedCoservice ], [ `WithoutSuffix ],<br/>   [ `One of string ] <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">param_name</span>, unit,<br/>   [ `Registrable ], <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">appl_service</span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><pre class="ocsforge_color odocwiki_code" id="VALadd_servpage"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">add_servpage</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Servpages</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">key</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string list, unit, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">get_service_kind</span>,<br/>   <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">attached</span>, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service_kind</span>, [ `WithSuffix ],<br/>   [ `One of string list ] <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">param_name</span>, unit,<br/>   [ `Registrable ], <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">appl_service</span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><pre class="ocsforge_color odocwiki_code" id="VALadd_servwikicss"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">add_servwikicss</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Servpages</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">key</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span><span class="ocsforge_color_delimiter">(</span><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> * int32 option<span class="ocsforge_color_delimiter">)</span> list, unit,<br/>   <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">get_service_kind</span>, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">attached_kind</span>,<br/>   [ `AttachedCoservice | `Service ], [ `WithoutSuffix ],<br/>   <span class="ocsforge_color_delimiter">(</span>[ `One of <span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> ] <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">param_name</span> *<br/>    [ `One of int32 ] <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">param_name</span><span class="ocsforge_color_delimiter">)</span><br/>   <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">listnames</span>, unit, [ `Registrable ],<br/>   <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">CssText</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">return</span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><pre class="ocsforge_color odocwiki_code" id="VALfind_naservpage"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">find_naservpage</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Servpages</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">key</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string, unit, [ `Get ], <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_attached_kind</span>,<br/>   [ `NonattachedCoservice ], [ `WithoutSuffix ],<br/>   [ `One of string ] <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">param_name</span>, unit,<br/>   [ `Registrable ], <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">appl_service</span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALfind_servpage"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">find_servpage</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Servpages</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">key</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string list, unit, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">get_service_kind</span>,<br/>   <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">attached</span>, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service_kind</span>, [ `WithSuffix ],<br/>   [ `One of string list ] <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">param_name</span>, unit,<br/>   [ `Registrable ], <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">appl_service</span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service</span> option</span></pre><pre class="ocsforge_color odocwiki_code" id="VALfind_servwikicss"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">find_servwikicss</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Servpages</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">key</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span><span class="ocsforge_color_delimiter">(</span><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> * int32 option<span class="ocsforge_color_delimiter">)</span> list, unit,<br/>   <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">get_service_kind</span>, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">attached_kind</span>,<br/>   [ `AttachedCoservice | `Service ], [ `WithoutSuffix ],<br/>   <span class="ocsforge_color_delimiter">(</span>[ `One of <span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> ] <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">param_name</span> *<br/>    [ `One of int32 ] <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">param_name</span><span class="ocsforge_color_delimiter">)</span><br/>   <span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">listnames</span>, unit, [ `Registrable ],<br/>   <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">CssText</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">return</span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service</span> option</span></pre></body></html>
