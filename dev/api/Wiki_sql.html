<html><head><title>Module Wiki_sql </title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/></head><body class="Wiki_sql dev"><h1>Module <span><a href=".././api/Wiki_sql">Wiki_sql</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Wiki_sql</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a href=".././api/Wiki_sql">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p><strong>Author(s):</strong> Boris Yakobowski, Vincent Balat<br/>
</p><hr/><pre class="ocsforge_color odocwiki_code" id="EXCEPTIONUnknown_Css"><span class="ocsforge_color_keyword">exception</span> <span class="odocwiki_name">Unknown_Css</span> <span class="ocsforge_color_keyword">of</span> <span class="odocwiki_type"><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span></span></pre><div class="odocwiki_info"><p>Exception raised when a CSS does not exists</p></div><pre class="ocsforge_color odocwiki_code" id="VALwikis"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">wikis</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>&lt; boxrights : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">bool_t</span> &gt;<br/>                 <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     container : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">int32_t</span> &gt;<br/>                 <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     deleted : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">bool_t</span> &gt;<br/>               <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     descr : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt;<br/>             <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     id : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">int32_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     model : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt;<br/>             <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     pages : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     siteid : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     staticdir : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt;<br/>                 <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     title : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt;<br/>             <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> &gt;,<br/>   &lt; deleted : &lt; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">bool_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     descr : &lt; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     id : &lt; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">int32_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     model : &lt; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>     title : &lt; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> &gt;<br/>   <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">writable</span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">view</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALnew_wiki"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">new_wiki</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">title:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">descr:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">pages:</span>string option <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">boxrights:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">staticdir:</span>string option <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?container_text:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">author:</span><span><a href=".././api/User_sql.Types#TYPEuserid">User_sql.Types.userid</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">model:</span><span><a href=".././api/Wiki_types#TYPEwiki_model">Wiki_types.wiki_model</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_delimiter">(</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> * <span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> option<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>inserts a new wiki, creating on the fly the container wikibox
(which is returned along the index of the new wiki). The <span class="odocwiki_inlinecode">author</span>
argument is used when creating the wikibox for the container.</p></div><pre class="ocsforge_color odocwiki_code" id="VALdelete_wiki"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">delete_wiki</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_label">?delete:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Delete or undelete the wiki. Does not delete anything in the database</p></div><pre class="ocsforge_color odocwiki_code" id="VALnew_wikibox"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">new_wikibox</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">author:</span><span><a href=".././api/User_sql.Types#TYPEuserid">User_sql.Types.userid</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">comment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content_type:</span>'a <span><a href=".././api/Wiki_types#TYPEcontent_type">Wiki_types.content_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Inserts a new wikibox in an existing wiki and return the id of the
wikibox.</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_wikibox_history"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wikibox_history</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">wb:</span><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  &lt; author : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">int32_t</span> &gt;<br/>             <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>    comment : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt;<br/>              <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>    datetime : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>;<br/>                 t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">timestamp_t</span> &gt;<br/>               <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>    version : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">int32_t</span> &gt;<br/>              <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> &gt;<br/>  list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>return the history of a wikibox.</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_wikiboxes_by_wiki"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wikiboxes_by_wiki</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><p>Wikipages
</p><pre class="ocsforge_color odocwiki_code" id="VALcreate_wikipage"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">create_wikipage</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">page:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">wb:</span><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Links the wikibox <span class="odocwiki_inlinecode">wb</span> to the page <span class="odocwiki_inlinecode">page</span> of wiki <span class="odocwiki_inlinecode">wiki</span>. Fails
if there already exists a wikibox linked to this wikipage</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_wikipage_info"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wikipage_info</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">page:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwikipage_info">Wiki_types.wikipage_info</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>return the information for a wikipage</p></div><pre class="ocsforge_color odocwiki_code" id="VALset_wikipage_properties"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">set_wikipage_properties</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">page:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?title:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?newpage:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">?wb:</span><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> option <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Sets the info for a wikipage. All parameters not passed are left
unchanged. If <span class="odocwiki_inlinecode">title</span> is <span class="odocwiki_inlinecode">Some &quot;&quot;</span>, it will be set to NULL
(just as if it is <span class="odocwiki_inlinecode">None</span>). If <span class="odocwiki_inlinecode">wb</span> is <span class="odocwiki_inlinecode">None</span>, the page is deleted.</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_css_for_wikipage"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_css_for_wikipage</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">page:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_delimiter">(</span><span><a href=".././api/Wiki_types#TYPEcss_wikibox">Wiki_types.css_wikibox</a></span> * <span class="ocsforge_color_delimiter">(</span>string * int32<span class="ocsforge_color_delimiter">)</span><span class="ocsforge_color_delimiter">)</span> list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>returns the lists of css associated to a wikipage or a wiki, together
with the content of the wikibox and the version (as last arguments)</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_css_for_wiki"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_css_for_wiki</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span><span><a href=".././api/Wiki_types#TYPEcss_wikibox">Wiki_types.css_wikibox</a></span> * <span class="ocsforge_color_delimiter">(</span>string * int32<span class="ocsforge_color_delimiter">)</span><span class="ocsforge_color_delimiter">)</span> list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALadd_css_aux"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">add_css_aux</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">page:</span>string option <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">author:</span><span><a href=".././api/User_sql.Types#TYPEuserid">User_sql.Types.userid</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">media:</span><span><a href=".././api/Wiki_types#TYPEmedia_type">Wiki_types.media_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?wbcss:</span><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Add a new CSS to a wikipage or a wiki. If <span class="odocwiki_inlinecode">wbcss</span> is supplied,
a link to the (supposed existing) CSS is created, and <span class="odocwiki_inlinecode">author</span>
and <span class="odocwiki_inlinecode">content</span> are ignored. Otherwise, a new wikibox is created.
In both cases, the wikibox containing the CSS is returned.</p></div><pre class="ocsforge_color odocwiki_code" id="VALremove_css_wiki"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">remove_css_wiki</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALremove_css_wikipage"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">remove_css_wikipage</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">page:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALget_css_wikibox_for_wikipage"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_css_wikibox_for_wikipage</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">page:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEcss_wikibox">Wiki_types.css_wikibox</a></span> list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>returns the wikibox for the css of a page or <span class="odocwiki_inlinecode">None</span> if the page has no css</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_css_wikibox_for_wiki"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_css_wikibox_for_wiki</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEcss_wikibox">Wiki_types.css_wikibox</a></span> list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>returns the wikibox for the global css of a wiki, or <span class="odocwiki_inlinecode">None</span> if the wiki
has no such css</p></div><pre class="ocsforge_color odocwiki_code" id="VALupdate_css_wikibox_aux"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">update_css_wikibox_aux</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">page:</span>string option <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">oldwb:</span><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">newwb:</span><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">media:</span><span><a href=".././api/Wiki_types#TYPEmedia_type">Wiki_types.media_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">rank:</span>int32 <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALget_wiki_info_by_id"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wiki_info_by_id</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_label">id:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwiki_info">Wiki_types.wiki_info</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Find wiki information for a wiki, given its id</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_wiki_info_by_name"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wiki_info_by_name</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_label">name:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwiki_info">Wiki_types.wiki_info</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Find wiki information for a wiki, given its name</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_wiki_info_by_pages"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wiki_info_by_pages</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_label">pages:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwiki_info">Wiki_types.wiki_info</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Find wiki information for a wiki, given its pages</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_wikibox_content"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wikibox_content</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?version:</span>int32 <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string * <span><a href=".././api/User_sql.Types#TYPEuserid">User_sql.Types.userid</a></span> * string option *<br/>   <span class="ocsforge_color_uid">CalendarLib</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Calendar</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> * 'a <span><a href=".././api/Wiki_types#TYPEcontent_type">Wiki_types.content_type</a></span> * int32<span class="ocsforge_color_delimiter">)</span><br/>  option <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>looks for a wikibox and returns <span class="odocwiki_inlinecode">Some (comment, author, content, datetime,
content_type, version)</span>, or <span class="odocwiki_inlinecode">None</span> if the page doesn't exist.</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_wikis"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wikis</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALset_wikibox_special_rights"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">set_wikibox_special_rights</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">wb:</span><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> bool <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Does the wikibox have special permission rights</p></div><pre class="ocsforge_color odocwiki_code" id="VALwikibox_wiki"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">wikibox_wiki</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Wiki in which the wikibox currently resides</p></div><pre class="ocsforge_color odocwiki_code" id="VALcurrent_wikibox_version"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">current_wikibox_version</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_uid">Int32</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> option <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Current revision number of a wikibox</p></div><pre class="ocsforge_color odocwiki_code" id="VALupdate_wikibox"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">update_wikibox</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">old_version:</span>int32 <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">author:</span><span><a href=".././api/User_sql.Types#TYPEuserid">User_sql.Types.userid</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">comment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content:</span>string option <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content_type:</span>'a <span><a href=".././api/Wiki_types#TYPEcontent_type">Wiki_types.content_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?ip:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> int32 <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Inserts a new version of an existing wikibox in a wiki
and return its version number.</p></div><pre class="ocsforge_color odocwiki_code" id="VALupdate_wiki"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">update_wiki</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?container:</span><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> option <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?staticdir:</span>string option <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?path:</span>string option <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?descr:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?boxrights:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?model:</span><span><a href=".././api/Wiki_types#TYPEwiki_model">Wiki_types.wiki_model</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?siteid:</span>string option <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Update the information of a wiki. All arguments not passed are left
unchanged</p></div><pre class="ocsforge_color odocwiki_code" id="VALiter_wikis"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">iter_wikis</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?deleted:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_delimiter">(</span><span><a href=".././api/Wiki_types#TYPEwiki_info">Wiki_types.wiki_info</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Iterator on all the wikis</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_wikibox_info"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wikibox_info</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/Wiki_types#TYPEwikibox_info">Wiki_types.wikibox_info</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALupdate_wikiboxes"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">update_wikiboxes</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span><span class="ocsforge_color_label">wikibox:</span><span><a href=".././api/Wiki_types#TYPEwikibox">Wiki_types.wikibox</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>   <span class="ocsforge_color_label">version:</span>int32 <span class="ocsforge_color_delimiter">-&gt;</span><br/>   <span class="ocsforge_color_label">content:</span>string option <span class="ocsforge_color_delimiter">-&gt;</span><br/>   <span class="ocsforge_color_label">content_type:</span>'a <span><a href=".././api/Wiki_types#TYPEcontent_type">Wiki_types.content_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> string option <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>This function updates the content of all the wikiboxes stored in
the database (including the old versions) according to the function
passed as argument, which must return the updated content, or None</p></div><pre class="ocsforge_color odocwiki_code" id="VALrewrite_wikipages"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">rewrite_wikipages</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?db:</span><span><a href=".././api/Ocsi_sql#TYPEdb_t">Ocsi_sql.db_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">oldwiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">newwiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">path:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALget_wikipages_of_a_wiki"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wikipages_of_a_wiki</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">wiki:</span><span><a href=".././api/Wiki_types#TYPEwiki">Wiki_types.wiki</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  &lt; pagename : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt;<br/>               <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>    title : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>    uid : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">int32_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>    wiki : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">int32_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>    wikibox : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">int32_t</span> &gt;<br/>              <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> &gt;<br/>  list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALget_wikis_id"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wikis_id</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  &lt; id : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">int32_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>    title : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> &gt;<br/>  list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALget_wikiboxes_id"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wikiboxes_id</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  &lt; id : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">int32_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>    title : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> &gt;<br/>  list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALget_wikipages_id"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_wikipages_id</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  &lt; id : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">int32_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span>;<br/>    title : &lt; get : unit; nul : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nullable</span>; t : <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">string_t</span> &gt; <span class="ocsforge_color_uid">Sql</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> &gt;<br/>  list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre></body></html>
