<html><head><title>Class Widget.widget_with_error_box </title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/></head><body class="Widget.widget_with_error_box-c dev"><h1>Class <span><a href=".././api/type_Widget.widget_with_error_box">Widget.widget_with_error_box</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span><span class="ocsforge_color_keyword">class</span> <span class="ocsforge_color_name">widget_with_error_box</span></span> <span class="ocsforge_color_delimiter">:</span>  <span class="ocsforge_color_keyword">object</span><span><a href=".././api/Widget.widget_with_error_box-c">..</a></span><span class="ocsforge_color_keyword">end</span></pre><hr/><pre class="ocsforge_color odocwiki_code"><span id="METHODerror_class"><span class="ocsforge_color_keyword">method</span> <span class="odocwiki_name">error_class</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">string</span></pre><pre class="ocsforge_color odocwiki_code"><span id="METHODbind_or_display_error"><span class="ocsforge_color_keyword">method</span> <span class="odocwiki_name">bind_or_display_error</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>'data 'a.<br/>  'data <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'data <span class="ocsforge_color_delimiter">-&gt;</span><br/>   <span class="ocsforge_color_delimiter">(</span><span class="ocsforge_color_uid">Html5_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nmtoken</span> list *<br/>    <span class="ocsforge_color_delimiter">(</span>[&gt; <span class="ocsforge_color_uid">Html5_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">p</span> ] as 'a<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html5</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">F</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">elt</span> list<span class="ocsforge_color_delimiter">)</span><br/>   <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span><span class="ocsforge_color_uid">Html5_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nmtoken</span> list * 'a <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html5</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">F</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">elt</span> list<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Takes a thread that gets data (e.g. from a database),
then a function that transforms this data into something printable
of type flows,
then a function that will build the box with the result, and/or
possibly also error messages if something went wrong during
data retrieval.</p></div><pre class="ocsforge_color odocwiki_code"><span id="METHODdisplay_error_box"><span class="ocsforge_color_keyword">method</span> <span class="odocwiki_name">display_error_box</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>'b.<br/>  <span class="ocsforge_color_label">?classes:</span>string list <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?message:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?exc:</span>exn <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_delimiter">(</span>[&gt; `P ] as 'b<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html5</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">F</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">elt</span></span></pre></body></html>
