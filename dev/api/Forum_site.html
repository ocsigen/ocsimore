<html><head><title>Module Forum_site </title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/></head><body class="Forum_site dev"><h1>Module <span><a href=".././api/Forum_site">Forum_site</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Forum_site</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a href=".././api/Forum_site">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p><strong>Author(s):</strong> Vincent Balat, Boris Yakobowski<br/>
</p><hr/><pre class="ocsforge_color odocwiki_code" id="VALforum_wiki_rights"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">forum_wiki_rights</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Forum.wiki_rights-c">Forum.wiki_rights</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALtitle_syntax"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">title_syntax</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Html5_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">phrasing</span> <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html5</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">F</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">elt</span> list<br/>  <span><a href=".././api/Wiki_types#TYPEcontent_type">Wiki_types.content_type</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALwikicreole_forum_model"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">wikicreole_forum_model</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href=".././api/Wiki_types#TYPEwiki_model">Wiki_types.wiki_model</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALforum_root"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">forum_root</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>unit, unit, [&lt; <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service_method</span> &gt; `Get ],<br/>   [&lt; <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">attached</span> &gt; `Attached ],<br/>   [&lt; <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service_kind</span> &gt; `Service ], [ `WithoutSuffix ], <br/>   unit, unit, [&lt; <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">registrable</span> &gt; `Registrable ],<br/>   [&gt; <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">http_service</span> ]<span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VAL($)"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">($)</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  'a <span><a href=".././api/User_sql.Types#TYPEparameterized_group">User_sql.Types.parameterized_group</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  'a <span><a href=".././api/Opaque#TYPEint32_t">Opaque.int32_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href=".././api/User_sql.Types#TYPEuser">User_sql.Types.user</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALcontent_type_input"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">content_type_input</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  'a <span><a href=".././api/Wiki_types#TYPEcontent_type">Wiki_types.content_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>[&gt; <span class="ocsforge_color_uid">Html5_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">input</span> ] <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html5</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">F</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">elt</span>,<br/>   'b <span><a href=".././api/Wiki_types#TYPEcontent_type">Wiki_types.content_type</a></span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Xform</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">XformLwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALedit_forum_form"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">edit_forum_form</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">serv_path:</span>'a <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>unit, unit, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">get_service_kind</span>,<br/>           <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">attached_kind</span>,<br/>           [&lt; `AttachedCoservice | `Service ], [&lt; `WithoutSuffix ],<br/>           unit, unit, [&lt; `Registrable ],<br/>           <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">http_service</span><span class="ocsforge_color_delimiter">)</span><br/>          <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">arg:</span>unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">forum:</span><span><a href=".././api/Forum_types#TYPEforum">Forum_types.forum</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">title:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">descr:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">arborescent:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">title_syntax:</span>'b <span><a href=".././api/Wiki_types#TYPEcontent_type">Wiki_types.content_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">messages_wiki:</span>'c <span><a href=".././api/Opaque#TYPEint32_t">Opaque.int32_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">comments_wiki:</span>'d <span><a href=".././api/Opaque#TYPEint32_t">Opaque.int32_t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?err_handler:</span><span class="ocsforge_color_delimiter">(</span>exn <span class="ocsforge_color_delimiter">-&gt;</span> string option<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span><span><a href=".././api/Forum_types#TYPEforum_arg">Forum_types.forum_arg</a></span> <span><a href=".././api/Opaque#TYPEint32_t">Opaque.int32_t</a></span> *<br/>   <span class="ocsforge_color_delimiter">(</span>string *<br/>    <span class="ocsforge_color_delimiter">(</span>string *<br/>     <span class="ocsforge_color_delimiter">(</span>bool *<br/>      <span class="ocsforge_color_delimiter">(</span>'d <span><a href=".././api/Opaque#TYPEint32_t">Opaque.int32_t</a></span> *<br/>       <span class="ocsforge_color_delimiter">(</span>'c <span><a href=".././api/Opaque#TYPEint32_t">Opaque.int32_t</a></span> * <span class="ocsforge_color_delimiter">(</span>'e <span><a href=".././api/Wiki_types#TYPEcontent_type">Wiki_types.content_type</a></span> * bool<span class="ocsforge_color_delimiter">)</span><span class="ocsforge_color_delimiter">)</span><span class="ocsforge_color_delimiter">)</span><span class="ocsforge_color_delimiter">)</span><span class="ocsforge_color_delimiter">)</span><span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>   unit <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html5</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">page</span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html5</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">F</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">html</span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALedit_forum"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">edit_forum</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit</span></pre><pre class="ocsforge_color odocwiki_code" id="VALcreate_forum_form"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">create_forum_form</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">serv_path:</span>'a <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'b, unit, [ `Get ], <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">attached_kind</span>,<br/>           [&lt; `AttachedCoservice | `Service ], [&lt; <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">suff</span> ],<br/>           'c, unit, [&lt; `Registrable ], <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">http_service</span><span class="ocsforge_color_delimiter">)</span><br/>          <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">service</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">arg:</span>'b <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?err_handler:</span><span class="ocsforge_color_delimiter">(</span>exn <span class="ocsforge_color_delimiter">-&gt;</span> string option<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string * <span class="ocsforge_color_delimiter">(</span>string * <span class="ocsforge_color_delimiter">(</span>bool * <span class="ocsforge_color_delimiter">(</span>'d <span><a href=".././api/Wiki_types#TYPEcontent_type">Wiki_types.content_type</a></span> * bool<span class="ocsforge_color_delimiter">)</span><span class="ocsforge_color_delimiter">)</span><span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>   unit <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_uid">Eliom_registration</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html5</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">page</span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html5</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">F</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">html</span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALcreate_forum"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">create_forum</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit</span></pre><p>We register the service that lists all the forums</p></body></html>
