=Module <<a_api_type | module Wiki_site >> =
<<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<span class="ocsforge_color_uid"|<<span class="ocsforge_color_uid"|Wiki_site>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="ocsforge_color_keyword"|sig>><<a_api text=".." | module Wiki_site >><<span class="ocsforge_color_keyword"|end>>>>**Author(s):** Vincent Balat, Boris Yakobowski\\

----
<<pre id="VALwiki_naming" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|wiki~_naming>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >> string <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre id="VALbody_to_div" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|body~_to~_div>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_uid"|Html5_types>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|body_content>> <<span class="ocsforge_color_uid"|Eliom_content>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Html5>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|F>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|elt>> list <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_uid"|Html5_types>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|flow5>> <<span class="ocsforge_color_uid"|Eliom_content>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Html5>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|F>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|elt>> list>>>><<pre id="VALsiteid" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|siteid>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|string option>>>><<pre id="VALerror_box" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|error~_box>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="Wiki_widgets.wikibox_error_box" | class type Wiki_widgets.wikibox_error_box >>>>>><<pre id="VALwiki_rights" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|wiki~_rights>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="Wiki.wiki_rights" | class type Wiki.wiki_rights >>>>>><<pre id="VALwikibox_widget" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|wikibox~_widget>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="Wiki_widgets.dynamic_wikibox" | class type Wiki_widgets.dynamic_wikibox >>>>>><<pre id="VALwikicreole_model" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|wikicreole~_model>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="Wiki_types.wiki_model" | type Wiki_types.wiki_model >>>>>><<div class="odocwiki_info"|~We create the default wiki model~, called "wikicreole"
>>

~We register auxiliary services for administration boxes
<<pre id="VALservice_edit_wikibox" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|service~_edit~_wikibox>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >>, unit, [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service_method>> > `Get ],\\   [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|attached>> > `Attached ],\\   [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service_kind>> > `Service ], [ `WithoutSuffix ],\\   [ `One of <<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> ] <<span class="ocsforge_color_uid"|Eliom_parameter>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|param_name>>, unit,\\   [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|registrable>> > `Registrable ],\\   [> <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|appl_service>> ]<<span class="ocsforge_color_delimiter"| ) >>\\  <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service>>>>>><<pre id="VALwiki_admin" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|wiki~_admin>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="Wiki_types.wiki_info" | type Wiki_types.wiki_info >>>>>><<div class="odocwiki_info"|~(~We create the wiki containing the administration boxes
>>
<<pre id="VALwiki_admin_id" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|wiki~_admin~_id>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >>>>>><<pre id="VALregister_named_wikibox" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|register~_named~_wikibox>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| page: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| content: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| content_type: >>'a <<a_api text="Wiki_types.content_type" | type Wiki_types.content_type >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| comment: >>string <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>unit <<span class="ocsforge_color_delimiter"| -> >> string <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<div class="odocwiki_info"|~This function registers a page inside the administration wiki if it does not
    exists~, and returns a function giving the current value of the
    corresponding wikibox
>>
<<pre id="VALpath_input" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|path~_input>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?a: >><<span class="ocsforge_color_uid"|Html5_types>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|input_attrib>> <<span class="ocsforge_color_uid"|Eliom_content>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Html5>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|F>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|attrib>> list <<span class="ocsforge_color_delimiter"| -> >>\\  string option <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >>[> <<span class="ocsforge_color_uid"|Html5_types>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|input>> ] <<span class="ocsforge_color_uid"|Eliom_content>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Html5>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|F>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|elt>>, string option<<span class="ocsforge_color_delimiter"| ) >>\\  <<span class="ocsforge_color_uid"|Xform>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|XformLwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre id="VALstaticdir_input" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|staticdir~_input>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?a: >><<span class="ocsforge_color_uid"|Html5_types>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|input_attrib>> <<span class="ocsforge_color_uid"|Eliom_content>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Html5>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|F>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|attrib>> list <<span class="ocsforge_color_delimiter"| -> >>\\  string option <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >>[> <<span class="ocsforge_color_uid"|Html5_types>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|input>> ] <<span class="ocsforge_color_uid"|Eliom_content>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Html5>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|F>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|elt>>, string option<<span class="ocsforge_color_delimiter"| ) >>\\  <<span class="ocsforge_color_uid"|Xform>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|XformLwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre id="VALcast_service" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|cast~_service>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >>unit, unit, [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|get_service_kind>> ],\\   [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|attached>> ], [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service_kind>> ],\\   [< `WithoutSuffix ], unit, unit, [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|registrable>> ],\\   [< <<span class="ocsforge_color_uid"|Eliom_registration>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|non_ocaml_service>> ]<<span class="ocsforge_color_delimiter"| ) >>\\  <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service>> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="Page_site.menu_link_service" | type Page_site.menu_link_service >>>>>><<pre id="VALmodel_input" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|model~_input>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<a_api text="Wiki_types.wiki_model" | type Wiki_types.wiki_model >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >>[> <<span class="ocsforge_color_uid"|Html5_types>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|select>> ] <<span class="ocsforge_color_uid"|Eliom_content>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Html5>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|F>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|elt>>,\\   <<a_api text="Wiki_types.wiki_model" | type Wiki_types.wiki_model >><<span class="ocsforge_color_delimiter"| ) >>\\  <<span class="ocsforge_color_uid"|Xform>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|XformLwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre id="VALsiteid_input" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|siteid~_input>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  string <<span class="ocsforge_color_uid"|Eliom_lib>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Option>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >>[> <<span class="ocsforge_color_uid"|Html5_types>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|select>> ] <<span class="ocsforge_color_uid"|Eliom_content>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Html5>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|F>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|elt>>, string option<<span class="ocsforge_color_delimiter"| ) >>\\  <<span class="ocsforge_color_uid"|Xform>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|XformLwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre id="VALcreate_wiki_form" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|create~_wiki~_form>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| serv_path: >>'a <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| service: >><<span class="ocsforge_color_delimiter"| ( >>unit, unit, <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|get_service_kind>>,\\           <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|attached_kind>>,\\           [< `AttachedCoservice | `Service ], [< `WithoutSuffix ],\\           unit, unit, [< `Registrable ],\\           <<span class="ocsforge_color_uid"|Eliom_registration>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|http_service>><<span class="ocsforge_color_delimiter"| ) >>\\          <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service>> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| arg: >>unit <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| title: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| descr: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| path: >>string option <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| boxrights: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| staticdir: >>string option <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| admins: >>string list <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| readers: >>'b <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| model: >><<a_api text="Wiki_types.wiki_model" | type Wiki_types.wiki_model >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| siteid: >>string <<span class="ocsforge_color_uid"|Eliom_lib>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Option>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?err_handler: >><<span class="ocsforge_color_delimiter"| ( >>exn <<span class="ocsforge_color_delimiter"| -> >> string option<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >>string *\\   <<span class="ocsforge_color_delimiter"| ( >>string *\\    <<span class="ocsforge_color_delimiter"| ( >>string option *\\     <<span class="ocsforge_color_delimiter"| ( >>string option *\\      <<span class="ocsforge_color_delimiter"| ( >><<a_api text="User_sql.Types.user" | type User_sql.Types.user >> list *\\       <<span class="ocsforge_color_delimiter"| ( >><<a_api text="User_sql.Types.user" | type User_sql.Types.user >> list *\\        <<span class="ocsforge_color_delimiter"| ( >>bool * <<span class="ocsforge_color_delimiter"| ( >><<a_api text="Wiki_types.wiki_model" | type Wiki_types.wiki_model >> * <<span class="ocsforge_color_delimiter"| ( >>string option * bool<<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\   unit <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_uid"|Eliom_registration>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Html5>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|page>> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_uid"|Eliom_content>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Html5>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|F>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|html>> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre id="VALcreate_wiki" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|create~_wiki>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >>unit, unit, [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service_method>> > `Get ],\\   [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|attached>> > `Attached ],\\   [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service_kind>> > `Service ], [ `WithoutSuffix ], \\   unit, unit, [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|registrable>> > `Registrable ],\\   [> <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|http_service>> ]<<span class="ocsforge_color_delimiter"| ) >>\\  <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service>>>>>><<pre id="VALedit_wiki_form" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|edit~_wiki~_form>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| service: >><<span class="ocsforge_color_delimiter"| ( >>bool, unit, <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|get_service_kind>>,\\           <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|attached_kind>>,\\           [< `AttachedCoservice | `Service ], [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|suff>> ],\\           'a, unit, [< `Registrable ], <<span class="ocsforge_color_uid"|Eliom_registration>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|http_service>><<span class="ocsforge_color_delimiter"| ) >>\\          <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service>> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| arg: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| wiki: >><<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| descr: >>string <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| path: >>string option <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| boxrights: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| staticdir: >>string option <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| container: >>'b <<a_api text="Opaque.int32_t" | type Opaque.int32_t >> option <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| model: >><<a_api text="Wiki_types.wiki_model" | type Wiki_types.wiki_model >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| siteid: >>string option <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?err_handler: >><<span class="ocsforge_color_delimiter"| ( >>exn <<span class="ocsforge_color_delimiter"| -> >> string option<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >><<a_api text="Wiki_types.wiki_arg" | type Wiki_types.wiki_arg >> <<a_api text="Opaque.int32_t" | type Opaque.int32_t >> *\\   <<span class="ocsforge_color_delimiter"| ( >>string *\\    <<span class="ocsforge_color_delimiter"| ( >>'b <<a_api text="Opaque.int32_t" | type Opaque.int32_t >> option *\\     <<span class="ocsforge_color_delimiter"| ( >>string option *\\      <<span class="ocsforge_color_delimiter"| ( >>bool *\\       <<span class="ocsforge_color_delimiter"| ( >>string option * <<span class="ocsforge_color_delimiter"| ( >><<a_api text="Wiki_types.wiki_model" | type Wiki_types.wiki_model >> * <<span class="ocsforge_color_delimiter"| ( >>string option * bool<<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\   unit <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_uid"|Eliom_registration>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Html5>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|page>> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_uid"|Eliom_content>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|Html5>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_uid"|F>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|html>> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre id="VALedit_wiki" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|edit~_wiki>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|unit>>>><<pre id="VALreplace_links" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|replace~_links>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >>unit, unit, [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service_method>> > `Post ],\\   [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|attached>> > `Attached ],\\   [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service_kind>> > `AttachedCoservice ],\\   [ `WithoutSuffix ], unit, unit,\\   [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|registrable>> > `Registrable ],\\   [> <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|appl_service>> ]<<span class="ocsforge_color_delimiter"| ) >>\\  <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service>>>>>><<pre id="VALnormalize_old_page_link" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|normalize~_old~_page~_link>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_delimiter"| -> >>\\  string <<span class="ocsforge_color_delimiter"| -> >> string option <<span class="ocsforge_color_delimiter"| -> >> 'a <<span class="ocsforge_color_delimiter"| -> >> 'b <<span class="ocsforge_color_delimiter"| -> >> string option <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>>>><<pre id="VALwiki_root" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|wiki~_root>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >>unit, unit, [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service_method>> > `Get ],\\   [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|attached>> > `Attached ],\\   [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service_kind>> > `Service ], [ `WithoutSuffix ], \\   unit, unit, [< <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|registrable>> > `Unregistrable ],\\   [> <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|http_service>> ]<<span class="ocsforge_color_delimiter"| ) >>\\  <<span class="ocsforge_color_uid"|Eliom_service>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|service>>>>>>