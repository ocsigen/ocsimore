=Module <<a_api_type | module Wiki_data >> =
<<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<span class="ocsforge_color_uid"|<<span class="ocsforge_color_uid"|Wiki_data>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="ocsforge_color_keyword"|sig>><<a_api text=".." | module Wiki_data >><<span class="ocsforge_color_keyword"|end>>>>~This is the wiki component of ~Ocsimore~.
**Author(s):** Jaap Boender, Piero Furiesi, Vincent Balat\\

----

~This is the wiki component of ~Ocsimore~.
<<pre id="EXCEPTIONPage_already_exists" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|exception>> <<span class="odocwiki_name"|Page_already_exists>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|<<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >>>>>><<div class="odocwiki_info"|~Exception raised when a wikipage already exists~. ~The argument
   is the wikibox for the pre~-existing page
>>
<<pre id="EXCEPTIONCss_already_exists" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|exception>> <<span class="odocwiki_name"|Css_already_exists>>>><<pre class="ocsforge_color odocwiki_code" id="TYPErights"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_type"|'a>> <<span class="odocwiki_name"|rights>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|<<span class="ocsforge_color_label"| rights: >><<a_api text="Wiki_types.wiki_rights" | class type Wiki_types.wiki_rights >> <<span class="ocsforge_color_delimiter"| -> >> 'a>> >><<pre id="VALcreate_wiki" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|create~_wiki>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| title: >>string <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| descr: >>string <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?path: >>string list <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?staticdir: >>string <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?boxrights: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| admins: >><<a_api text="User_sql.Types.user" | type User_sql.Types.user >> list <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| readers: >><<a_api text="User_sql.Types.user" | type User_sql.Types.user >> list <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?container_text: >>string <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| model: >><<a_api text="Wiki_types.wiki_model" | type Wiki_types.wiki_model >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<div class="odocwiki_info"|~Creates the specified wiki if the user has enough permissions~.
    ~Raise <<span class="odocwiki_inlinecode"|~Permission~_denied>> if it is not the case~, and or fails with
    the same errors as <<span class="odocwiki_inlinecode"|~Wiki~.create~_wiki>> if the wiki cannot be created~.
    ~The options are the same as for the this function~, except for
    the field <<span class="odocwiki_inlinecode"|admin>>~, which is used as the author of the container page~,
    and becomes admin of the wiki~. ~By default~, no one can read
    the wiki~.
>>
<<pre id="VALnew_wikitextbox" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|new~_wikitextbox>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| ?db: >><<a_api text="Ocsi_sql.db_t" | type Ocsi_sql.db_t >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| ?have_rights: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| content_type: >>'res <<a_api text="Wiki_types.content_type" | type Wiki_types.content_type >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| wiki: >><<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| author: >><<a_api text="User_sql.Types.userid" | type User_sql.Types.userid >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| comment: >>string <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| content: >>string <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<pre id="VALsave_wikitextbox" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|save~_wikitextbox>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| old_version: >>int32 <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| content_type: >>'res <<a_api text="Wiki_types.content_type" | type Wiki_types.content_type >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| wb: >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| content: >>string option <<span class="ocsforge_color_delimiter"| -> >> int32 <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<div class="odocwiki_info"|~The next three functions save a wikibox and returns the new version id of
    this wikibox~. ~For the css related functions~, we check that the argument
    is indeed a proper css
>>
<<pre id="VALsave_wikicssbox" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|save~_wikicssbox>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| old_version: >>int32 <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| wiki: >><<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| content: >>string option <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| wb: >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_delimiter"| -> >> int32 <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<pre id="VALsave_wikipagecssbox" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|save~_wikipagecssbox>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| old_version: >>int32 <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| wiki: >><<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| page: >>string <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| content: >>string option <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| wb: >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_delimiter"| -> >> int32 <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<pre id="VALset_wikibox_special_rights" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|set~_wikibox~_special~_rights>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| wb: >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| special_rights: >>bool <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<pre id="VALcreate_wikipage" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|create~_wikipage>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| wiki: >><<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| page: >>string <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> <<a_api text="rights" | type Wiki_data.rights >>>>>><<pre id="VALadd_css" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|add~_css>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| wiki: >><<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| page: >>string option <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| media: >><<a_api text="Wiki_types.media_type" | type Wiki_types.media_type >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?wbcss: >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<pre id="VALdelete_css" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|delete~_css>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| wiki: >><<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| page: >>string option <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| wb: >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<pre id="VALupdate_css" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|update~_css>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| wiki: >><<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| page: >>string option <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| oldwb: >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| newwb: >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| media: >><<a_api text="Wiki_types.media_type" | type Wiki_types.media_type >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_label"| rank: >>int32 <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<pre id="EXCEPTIONUnknown_box" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|exception>> <<span class="odocwiki_name"|Unknown_box>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|<<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> * int32 option>>>><<div class="odocwiki_info"|~Raised in case of a non~-existing wikibox~. ~The optional <<span class="odocwiki_inlinecode"|int~3~2>>
   argument is the version number
>>
<<pre id="VALwikibox_content" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|wikibox~_content>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| ?version: >>int32 <<span class="ocsforge_color_delimiter"| -> >>\\   <<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_delimiter"| -> >> 'res <<a_api text="Wiki_types.wikibox_content" | type Wiki_types.wikibox_content >> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<div class="odocwiki_info"|~Returns the content of the wikibox if the user has enough rights~,
    possibly for the given revision
>>
<<pre id="VALwikibox_content'" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|wikibox~_content~'>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| ?version: >>int32 <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_delimiter"| -> >> <<span class="ocsforge_color_delimiter"| ( >>string option * int32<<span class="ocsforge_color_delimiter"| ) >> <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<pre id="VALwikibox_history" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|wikibox~_history>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| wb: >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> <<span class="ocsforge_color_delimiter"| -> >>\\   < author : < get : unit; nul : <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|non_nullable>>; t : <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|int32_t>> >\\              <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>;\\     comment : < get : unit; nul : <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|non_nullable>>; t : <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|string_t>> >\\               <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>;\\     datetime : < get : unit; nul : <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|non_nullable>>;\\                  t : <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|timestamp_t>> >\\                <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>;\\     version : < get : unit; nul : <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|non_nullable>>; t : <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|int32_t>> >\\               <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>> >\\   list <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<pre id="VALwiki_css_boxes_with_content" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|wiki~_css~_boxes~_with~_content>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| wiki: >><<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_delimiter"| ( >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> * int32<<span class="ocsforge_color_delimiter"| ) >> list <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_delimiter"| ( >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> * string<<span class="ocsforge_color_delimiter"| ) >> list <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<div class="odocwiki_info"|~Returns the css for the specified wiki or the wikipage~. ~The ~C~S~S are
    filtered for the ones the user can read
>>
<<pre id="VALwikipage_css_boxes_with_content" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|wikipage~_css~_boxes~_with~_content>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| wiki: >><<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| page: >>string <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_delimiter"| ( >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> * int32<<span class="ocsforge_color_delimiter"| ) >> list <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_delimiter"| ( >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> * string<<span class="ocsforge_color_delimiter"| ) >> list <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<div class="odocwiki_info"|~Same thing for a wikipage
>>
<<pre id="VALupdate_wiki" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|update~_wiki>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| ?container: >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> option <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?staticdir: >>string option <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?path: >>string option <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?descr: >>string <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?boxrights: >>bool <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?model: >><<a_api text="Wiki_types.wiki_model" | type Wiki_types.wiki_model >> <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?siteid: >>string option <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="Wiki_types.wiki" | type Wiki_types.wiki >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>><<div class="odocwiki_info"|~Same as <<span class="odocwiki_inlinecode"|~Wiki~_sql~.update~_wiki>>~, except that this function fails
    with <<span class="odocwiki_inlinecode"|~Permission~_denied>> if the user has not enough rights to edit a wiki
>>
<<pre id="VALsave_wikipage_properties" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|save~_wikipage~_properties>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_label"| ?title: >>string <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?wb: >><<a_api text="Wiki_types.wikibox" | type Wiki_types.wikibox >> option <<span class="ocsforge_color_delimiter"| -> >>\\   <<span class="ocsforge_color_label"| ?newpage: >>string <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="Wiki_types.wikipage" | type Wiki_types.wikipage >> <<span class="ocsforge_color_delimiter"| -> >> unit <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >>\\  <<a_api text="rights" | type Wiki_data.rights >>>>>>