=Module <<a_api_type | module User_sql.Types >> =
<<pre class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|module>> <<span class="ocsforge_color_uid"|<<span class="ocsforge_color_uid"|Types>>>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="ocsforge_color_keyword"|sig>><<a_api text=".." | module User_sql.Types >><<span class="ocsforge_color_keyword"|end>>>>
----
<<pre class="ocsforge_color odocwiki_code" id="TYPEuserid"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|userid>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_type"|[ `User ] <<a_api text="Opaque.int32_t" | type Opaque.int32_t >>>> >><<div class="odocwiki_info"|~The abstract type of user ids
>>
<<pre id="VALuserid_from_sql" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|userid~_from~_sql>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|int32 <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="userid" | type User_sql.Types.userid >>>>>><<pre id="VALsql_from_userid" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|sql~_from~_userid>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="userid" | type User_sql.Types.userid >> <<span class="ocsforge_color_delimiter"| -> >> int32>>>><<pre id="VALstring_from_userid" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|string~_from~_userid>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="userid" | type User_sql.Types.userid >> <<span class="ocsforge_color_delimiter"| -> >> string>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEpwd"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|pwd>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="odocwiki_variants"|<<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Connect_forbidden>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Ocsimore_user_plain>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|string>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Ocsimore_user_crypt>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|string>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|Ocsimore_user_safe>> <<span class="ocsforge_color_keyword"|of>> <<span class="odocwiki_type"|<<span class="ocsforge_color_uid"|Bcrypt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|hash_t>>>>>>>><<span class="odocwiki_variant"|<<span class="odocwiki_variant_constr"|<<span class="ocsforge_color_keyword"| ~|>> <<span class="ocsforge_color_uid"|External_Auth>>>>>>>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEfind_param"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|find~_param>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="ocsforge_color_delimiter"|~{>>
<<span class="odocwiki_record"|<<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|param_description:>> <<span class="odocwiki_type"|string>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|param_get:>> <<span class="odocwiki_type"|\\    unit <<span class="ocsforge_color_delimiter"| -> >>\\    < id : < get : unit; nul : <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|non_nullable>>; t : <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|int32_t>> >\\           <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>;\\      title : < get : unit; nul : <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|nullable>>; t : <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|string_t>> >\\              <<span class="ocsforge_color_uid"|Sql>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>> >\\    list <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|param_display:>> <<span class="odocwiki_type"|<<span class="ocsforge_color_delimiter"| ( >>int32 <<span class="ocsforge_color_delimiter"| -> >> string <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> option>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|find_param_functions:>> <<span class="odocwiki_type"|\\    <<span class="ocsforge_color_delimiter"| ( >><<span class="ocsforge_color_delimiter"| ( >>string <<span class="ocsforge_color_delimiter"| -> >> int32 <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >> * <<span class="ocsforge_color_delimiter"| ( >>int32 <<span class="ocsforge_color_delimiter"| -> >> string <<span class="ocsforge_color_uid"|Lwt>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>><<span class="ocsforge_color_delimiter"| ) >><<span class="ocsforge_color_delimiter"| ) >> option>><<span class="ocsforge_color_delimiter"|~;>> >>>>>><<span class="ocsforge_color_delimiter"|~}>>>><<div class="odocwiki_info"|~Description of the parameter of a paramaterized group
>>
<<pre class="ocsforge_color odocwiki_code" id="TYPEuserdata"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|userdata>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="ocsforge_color_delimiter"|~{>>
<<span class="odocwiki_record"|<<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|user_id:>> <<span class="odocwiki_type"|<<a_api text="userid" | type User_sql.Types.userid >>>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|user_login:>> <<span class="odocwiki_type"|string>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|user_pwd:>> <<span class="odocwiki_type"|<<a_api text="pwd" | type User_sql.Types.pwd >>>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|user_fullname:>> <<span class="odocwiki_type"|string>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|user_email:>> <<span class="odocwiki_type"|string option>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|user_dyn:>> <<span class="odocwiki_type"|bool>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|user_kind:>> <<span class="odocwiki_type"|\\    [ `BasicUser\\    | `NonParameterizedGroup\\    | `ParameterizedGroup of <<a_api text="find_param" | type User_sql.Types.find_param >> option ]>><<span class="ocsforge_color_delimiter"|~;>> >>>>>><<span class="ocsforge_color_delimiter"|~}>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEparameterized_group"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_type"|'a>> <<span class="odocwiki_name"|parameterized~_group>>>><<pre id="VALparameterized_group_from_userid" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|parameterized~_group~_from~_userid>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="userid" | type User_sql.Types.userid >> <<span class="ocsforge_color_delimiter"| -> >> 'a <<a_api text="parameterized_group" | type User_sql.Types.parameterized_group >>>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEuser"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|user>>>><<pre id="VALapply_parameterized_group" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|apply~_parameterized~_group>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  'a <<a_api text="parameterized_group" | type User_sql.Types.parameterized_group >> <<span class="ocsforge_color_delimiter"| -> >>\\  'a <<a_api text="Opaque.int32_t" | type Opaque.int32_t >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="user" | type User_sql.Types.user >>>>>><<pre id="VAL($)" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|~(~$~)>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  'a <<a_api text="parameterized_group" | type User_sql.Types.parameterized_group >> <<span class="ocsforge_color_delimiter"| -> >>\\  'a <<a_api text="Opaque.int32_t" | type Opaque.int32_t >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="user" | type User_sql.Types.user >>>>>><<pre id="VALbasic_user" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|basic~_user>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="userid" | type User_sql.Types.userid >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="user" | type User_sql.Types.user >>>>>><<pre id="VALnon_parameterized_group" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|non~_parameterized~_group>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="userid" | type User_sql.Types.userid >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="user" | type User_sql.Types.user >>>>>><<pre id="VALuserid_from_user" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|userid~_from~_user>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="user" | type User_sql.Types.user >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="userid" | type User_sql.Types.userid >>>>>><<pre id="VALis_basic_user" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|is~_basic~_user>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|<<a_api text="user" | type User_sql.Types.user >> <<span class="ocsforge_color_delimiter"| -> >> <<a_api text="userid" | type User_sql.Types.userid >> option>>>><<div class="odocwiki_info"|~Converts an user back into an userid~, if possible
>>
<<pre id="VALuser_is_applied_parameterized_group" class="ocsforge_color odocwiki_code"|<<span class="ocsforge_color_keyword"|val>> <<span class="odocwiki_name"|user~_is~_applied~_parameterized~_group>> <<span class="ocsforge_color_delimiter"|~:>> <<span class="odocwiki_type"|\\  <<span class="ocsforge_color_label"| user: >><<a_api text="user" | type User_sql.Types.user >> <<span class="ocsforge_color_delimiter"| -> >>\\  <<span class="ocsforge_color_label"| pgroup: >>'a <<a_api text="parameterized_group" | type User_sql.Types.parameterized_group >> <<span class="ocsforge_color_delimiter"| -> >>\\  'a <<a_api text="Opaque.int32_t" | type Opaque.int32_t >> option>>>><<div class="odocwiki_info"|~Returns <<span class="odocwiki_inlinecode"|~Some v>> is <<span class="odocwiki_inlinecode"|user>> is <<span class="odocwiki_inlinecode"|group ~$ v>>~, or <<span class="odocwiki_inlinecode"|~None>> otherwise
>>
<<pre class="ocsforge_color odocwiki_code" id="TYPEadmin_writer_reader"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_type"|'a>> <<span class="odocwiki_name"|admin~_writer~_reader>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="ocsforge_color_delimiter"|~{>>
<<span class="odocwiki_record"|<<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|grp_admin:>> <<span class="odocwiki_type"|'a <<a_api text="parameterized_group" | type User_sql.Types.parameterized_group >>>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|grp_writer:>> <<span class="odocwiki_type"|'a <<a_api text="parameterized_group" | type User_sql.Types.parameterized_group >>>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|grp_reader:>> <<span class="odocwiki_type"|'a <<a_api text="parameterized_group" | type User_sql.Types.parameterized_group >>>><<span class="ocsforge_color_delimiter"|~;>> >>>>>><<span class="ocsforge_color_delimiter"|~}>>>><<pre class="ocsforge_color odocwiki_code" id="TYPEusers"|<<span class="ocsforge_color_keyword"|type>> <<span class="odocwiki_name"|users>> <<span class="ocsforge_color_delimiter"|~=>> <<span class="ocsforge_color_delimiter"|~{>>
<<span class="odocwiki_record"|<<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|users:>> <<span class="odocwiki_type"|<<a_api text="userdata" | type User_sql.Types.userdata >> list <<span class="ocsforge_color_uid"|Lazy>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|groups:>> <<span class="odocwiki_type"|<<a_api text="userdata" | type User_sql.Types.userdata >> list <<span class="ocsforge_color_uid"|Lazy>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>><<span class="ocsforge_color_delimiter"|~;>> >>>><<span class="odocwiki_field"|<<span class="odocwiki_field_descr"|  <<span class="ocsforge_color_label"|roles:>> <<span class="odocwiki_type"|<<a_api text="userdata" | type User_sql.Types.userdata >> list <<span class="ocsforge_color_uid"|Lazy>><<span class="ocsforge_color_delimiter"| . >><<span class="ocsforge_color_lid"|t>>>><<span class="ocsforge_color_delimiter"|~;>> >>>>>><<span class="ocsforge_color_delimiter"|~}>>>>